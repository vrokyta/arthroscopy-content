---
title: "Lorem ipsum dolor sit amet"
date: 2024-01-27T20:02:30+02:00
type: article
featured_image: '/static-blog-images/post-1/png.png'
keywords: ['trunk', 'розробка', 'VCS', 'робота']
---
## {{< color-text text="Вступ:" >}}
**Розробка на основі стовбуру (Trunk)** не є новою моделлю розгалуження. Слово «стовбур» відноситься до поняття зростаючого 
дерева, де найтовстішим і найдовшим прольотом є стовбур, а не гілки, які радіально відходять від нього та мають меншу 
довжину. З середини дев’яностих це була менш відома розгалужена модель вибору, а з вісімдесятих її розглядали тактично. 
Найбільші організації-розробники, такі як _Google_ (як згадувалося) і _Facebook_, масштабно _практикують це_. За 30 
років різні досягнення технологій керування джерелами та пов’язаних інструментів/технік зробили _trunk-розробку_ 
більш (іноді менш) поширеною, але це була розгалужена модель, якої багато хто дотримувався протягом багатьох років.

## {{< color-text text="Спільні гілки за межами основної/Trunk лінії погані при будь-якій частоті випуску: " >}}
{{< img src="/blog-images/post-1/png.png" css_class="img-scale-down">}}

## {{< color-text text="Розробка на основі Trunk для невеликих команд: " >}}
{{< img src="/blog-images/post-1/png.png" css_class="img-scale-down">}}

## {{< color-text text="Масштабована Trunk-Розробка: " >}}
{{< img src="/blog-images/post-1/png.png" css_class="img-scale-down">}}

## {{< color-text text="Розробка, Твердження та Застереження:: " >}}
{{< img src="/blog-images/post-1/png.png" css_class="img-scale-down">}}

Розробка на основній гілці є ключовим чинником 
{{< color-link link_title="Безперервної Інтеграції" path="https://trunkbaseddevelopment.com/continuous-integration/" >}} 
та {{< color-link link_title="Безперервної Доставки" path="https://trunkbaseddevelopment.com/continuous-delivery/" >}}. 
Коли члени команди надсилають свої зміни в основну гілку кілька разів на день, це полегшує дотримання основної вимоги безперервної інтеграції, а саме - всі члени команди мають надсилати зміни в основну гілку принаймні раз на 24 години. Це забезпечує постійну готовність кодової бази до випуску і сприяє реалізації безперервної доставки.

Розмежування між Trunk-Based Development для невеликих команд і масштабованою розробкою на основі Trunk-Based Development залежить від розміру команди та частоти комітів. Точний момент, коли команда розробників перестає бути "невеликою" і переходить до "масштабної", є предметом обговорення практиків. Незалежно від цього, команди виконують повну збірку (компіляцію, модульні тести, інтеграційні тести) на своїх робочих станціях перед тим, як здійснити коміт або пуш, щоб інші (або боти) могли їх бачити.

**Твердження**
* Варто обрати Trunk-Based Development замість GitFlow та інших моделей з великою кількістю довготривалих гілок.
* Ви можете або комітити/пушити безпосередньо в основну гілку (для дуже маленьких команд), або використовувати workflow з Pull-Request, за умови, що ці фічеві гілки короткотривалі і створені однією особою.

**Застереження**
* Залежно від розміру команди та кількості комітів, {{< color-link link_title="короткострокові гілки функцій" path="https://trunkbaseddevelopment.com/short-lived-feature-branches/" >}}
використовуються для перегляду коду та перевірки збірки (CI), але не для створення чи публікації артефактів, які 
відбуваються до того, як коміти потраплять у стовбур, щоб інші розробники могли не залежати від них. Такі гілки 
дозволяють розробникам {{< color-link link_title="активно та безперервно переглядати код" path="https://trunkbaseddevelopment.com/continuous-review/" >}} 
внесків до того, як їхній код буде інтегровано в основну гілку. Дуже невеликі команди можуть здійснювати 
{{< color-link link_title="прямі коміти в стовбур" path="https://trunkbaseddevelopment.com/committing-straight-to-the-trunk/" >}}.
* Залежно від передбачуваної частоти випуску, можуть існувати {{< color-link link_title="гілки релізу" path="/ua/blog/post-2/" >}}, 
які витягуються із стовбуру своєчасно, «зміцнюються» перед випуском (це не є командною діяльністю), і **ці гілки через 
деякий час видаляються** після релізу. Крім того, також може не бути гілок релізу, якщо команда робить 
{{< color-link link_title="реліз зі Trunk" path="https://trunkbaseddevelopment.com/release-from-trunk/" >}} та вибирає
стратегію «виправлення вперед» для виправлення помилок. Реліз зі стовбуру також актуальний для високопродуктивних команд.
* Команди повинні довше освоювати пов’язану гілку за допомогою техніки абстрагування, щоб досягти змін, і 
використовувати позначки функцій у повсякденній розробці, щоб забезпечити хеджування (hedging) порядку випусків (а також 
інші хороші поради – дивіться в одночасній розробці послідовних випусків").
* Якщо у вас є більше ніж пара розробників у проекті, вам потрібно буде підключити сервер збірки, щоб переконатися, що 
їхні коміти **не зламали збірку** після того, як вони потраплять у стовбур, а також коли вони будуть готові до 
об’єднання назад у стовбур із короткочасної гілки функції.
* Команди розробників можуть збільшуватись або зменшуватись у розмірах (у стовбурі), не впливаючи на пропускну здатність
або якість. Доказ? Google використовує Trunk-Based Development і має **35 000 розробників і автоматизаторів контролю 
якості** в цьому єдиному стовбурі монорепозиторію, який у їхньому випадку може розширюватися або скорочуватися відповідно до розробника.
* Люди, які практикують модель розгалуження GitHub-flow, відчують, що це дуже схоже, але є одна невелика різниця
навколо того звідки робити реліз.
* Люди, які практикують модель розгалуження Gitflow, побачать, що це зовсім інше, як і багато розробників, які звикли 
до популярних моделей розгалуження минулого ClearCase, Subversion, Perforce, StarTeam, VCS.
* Багато публікацій пропагують Trunk-Based Development так, як ми її тут описуємо. До них належать бестселери 
«Continuous Delivery» і «DevOps Handbook». Тому це точно більше не повинно викликати суперечок!

## {{< color-text text="Короткий підсумок" >}}
Модель розгалуження з керуванням вихідним кодом, де розробники співпрацюють над кодом в одній гілці під назвою «Trunk», 
протистоїть будь-якому тиску щодо створення інших довготривалих гілок розробки, використовуючи задокументовані 
методи. Тому вони уникають проблем злиття, не руйнують збірку та живуть довго і щасливо.

### {{< color-text text="Посилання на першоджерело: " >}}
* https://trunkbaseddevelopment.com/
